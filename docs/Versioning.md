# バージョニング規約（vX.Y.Z）

## 1. 目的
リリース番号と変更内容の関係を固定し、互換性事故（既存マクロ資産が壊れる等）を防ぐ。

## 2. バージョン定義
- **vX.Y.Z**
  - **X：互換性が壊れる変更（Breaking Change）**
    - 例：既存マクロファイルが読めない／同じマクロが別挙動になる／設定の意味が変わる 等
  - **Y：互換性を壊さない機能追加・拡張（Feature）**
    - 例：新Action追加、UI項目追加、オプション追加（既存マクロは従来通り動作）
  - **Z：バグ修正・軽微な改善（Fix）**
    - 例：例外で落ちる、誤動作、表示崩れ、文言修正、安定性向上 等

## 3. Gitタグ / GitHub Release
- タグ名：`Macro_vX.Y.Z`（例：`Macro_v2.1.3`）
- タグは必ず `master` のリリース確定コミットに付与する
- GitHub Release のタイトルはタグ名と一致させる

## 4. ブランチ運用（推奨）
- `master`：常に安定（リリース可能）
- `feature/*`：互換性維持の機能追加（主に Y 対象）
- `bugfix/*`：バグ修正（主に Z 対象）
- `breaking/*`：互換性破壊を含む変更（主に X 対象）

## 5. CHANGELOG運用
- `CHANGELOG.md` はリポジトリ直下に配置する
- `## Unreleased` を常に先頭に置き、開発中の変更を蓄積する
- リリース時に `Unreleased` の内容を `## Macro_vX.Y.Z (YYYY-MM-DD)` として切り出す

## 6. リリース手順（最小）
1. `feature/*` / `bugfix/*` / `breaking/*` を `master` にマージ
2. `/docs` と `CHANGELOG.md` を更新してリリース確定コミットを作る
3. タグ `Macro_vX.Y.Z` を作成して push
4. GitHub Release を作成（本文は CHANGELOG の該当セクション）

## 7. Docs凍結ルール
- タグ作成時点で `docs/` は最新で凍結（Freeze）されていること
- 機能一覧（状態付き）と実装状態が一致していること
- 将来実装予定の機能は「対象外（将来予定）」として明記し、本版では実装しない

## 8. 互換性ポリシー（推奨）
- Z：互換性維持（既存マクロ資産はそのまま動く）
- Y：互換性維持（既存マクロ資産はそのまま動く）
- X：互換性が壊れる可能性があるため、影響と移行手順を Release に必ず明記する
